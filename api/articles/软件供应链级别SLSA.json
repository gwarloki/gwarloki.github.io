{"title":"软件供应链级别SLSA","uid":"7af1666f1830041ec06497fadc48c24a","slug":"软件供应链级别SLSA","date":"2022-06-19T15:28:00.000Z","updated":"2022-10-26T08:25:55.348Z","comments":true,"path":"api/articles/软件供应链级别SLSA.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159414/4k-backlit-dawn-wallpapers-159414-29325-5851540.png","content":"<h1 id=\"软件供应链级别SLSA\"><a href=\"#软件供应链级别SLSA\" class=\"headerlink\" title=\"软件供应链级别SLSA\"></a>软件供应链级别SLSA</h1><h2 id=\"概述和背景\"><a href=\"#概述和背景\" class=\"headerlink\" title=\"概述和背景\"></a>概述和背景</h2><p><a href=\"https://slsa.dev/\">SLSA • Supply-chain Levels for Software Artifacts</a>这是一个安全框架，是标准和控制的清单，以防止篡改，提高完整性，并保护项目、企业或企业中的软件包和基础设施。这就是你如何在链条中的任何环节从足够安全到尽可能有弹性。该项目目前处于alpha状态。<br><a href=\"https://github.com/slsa-framework/slsa\">GitHub - slsa-framework&#x2F;slsa: Supply-chain Levels for Software Artifacts</a></p>\n<h2 id=\"SLSA用途\"><a href=\"#SLSA用途\" class=\"headerlink\" title=\"SLSA用途\"></a>SLSA用途</h2><p>SLSA帮助防范常见的软件供应链攻击。下图展示了一个典型的软件供应链，包括可能发生在供应链各个环节的攻击示例。在过去的几年中，每种类型的攻击均发生过，不幸的是，随着时间的推移，软件供应链事件攻击仍在增加。<br><img src=\"http://img.moses.wang/new/20220822135502.png\"></p>\n<h2 id=\"级别摘要\"><a href=\"#级别摘要\" class=\"headerlink\" title=\"级别摘要\"></a>级别摘要</h2><table>\n<thead>\n<tr>\n<th>水平</th>\n<th>描述</th>\n<th>例子</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>构建过程的文档</td>\n<td>未签名来源</td>\n</tr>\n<tr>\n<td>2</td>\n<td>构建服务的防篡改性</td>\n<td>托管源&#x2F;构建，签名来源</td>\n</tr>\n<tr>\n<td>3</td>\n<td>对特定威胁的额外抵抗力</td>\n<td>对主机的安全控制，不可伪造的来源</td>\n</tr>\n<tr>\n<td>4</td>\n<td>最高水平的信心和信任</td>\n<td>双方评论+密封构建</td>\n</tr>\n</tbody></table>\n<h2 id=\"详细解释\"><a href=\"#详细解释\" class=\"headerlink\" title=\"详细解释\"></a>详细解释</h2><table>\n<thead>\n<tr>\n<th>水平</th>\n<th>要求</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0</td>\n<td>没有保证。SLSA 0表示缺乏任何SLSA级别。</td>\n</tr>\n<tr>\n<td>1</td>\n<td>构建过程必须完全脚本化&#x2F;自动化并生成来源。来源是关于工件如何构建的元数据，包括构建过程、顶级源代码和依赖项。了解来源允许软件消费者做出基于风险的安全决策。SLSA 1的来源不能防止篡改，但它提供了基本水平的代码源识别，并可以帮助漏洞管理。</td>\n</tr>\n<tr>\n<td>2</td>\n<td>需要使用版本控制和生成经过身份验证的来源的托管构建服务。这些额外的要求使软件消费者对软件的起源更有信心。在这个级别上，来源可以防止篡改，以至于构建服务受到信任。SLSA 2还提供了一个简单的SLSA 3升级路径。</td>\n</tr>\n<tr>\n<td>3</td>\n<td>源平台和构建平台分别符合特定标准，以保证源的可审计性和来源的完整性。我们设想了一个认证流程，根据该流程，审计师证明平台符合要求，然后消费者可以依赖这些要求。SLSA 3通过防止特定类别的威胁，如跨建筑污染，比早期水平提供了更强的防篡改保护。</td>\n</tr>\n<tr>\n<td>4</td>\n<td>需要对所有更改进行两人审查，以及密封的、可复制的构建过程。两人评论是识别错误和阻止不良行为的行业最佳实践。Hermetic构建保证来源的依赖项列表是完整的。可复制的构建虽然不是严格要求，但提供了许多可审计性和可靠性优势。总体而言，SLSA 4给了消费者高度的信心，即该软件没有被篡改。</td>\n</tr>\n</tbody></table>\n<h2 id=\"威胁与缓解措施\"><a href=\"#威胁与缓解措施\" class=\"headerlink\" title=\"威胁与缓解措施\"></a>威胁与缓解措施</h2><p><img src=\"http://img.moses.wang/20220619233601.png\"></p>\n<table>\n<thead>\n<tr>\n<th>序号</th>\n<th>威胁类型</th>\n<th>威胁案例</th>\n<th>SLSA防御</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>A</td>\n<td>将恶意代码提交到源存储库</td>\n<td><a href=\"https://lore.kernel.org/lkml/202105051005.49BFABCE@keescook/\">Linux恶意上传带有漏洞的patch</a>：研究人员试图通过邮件列表上的补丁程序故意将漏洞引入Linux内核。</td>\n<td>双人审查可以审核大多数（但不是全部的）漏洞。</td>\n</tr>\n<tr>\n<td>B</td>\n<td>恶意托管源代码管理平台</td>\n<td><a href=\"https://news-web.php.net/php.internals/113838\">PHP官方git被攻陷</a>：攻击者破坏了PHP的自托管git服务器，并注入了两个恶意提交。</td>\n<td>防御较好的源代码平台增加了攻击者难度</td>\n</tr>\n<tr>\n<td>C</td>\n<td>使用正式流程构建，但源代码与源代码管理不匹配</td>\n<td><a href=\"https://www.webmin.com/exploit.html\">Webmin</a>:攻击者修改了构建工作流以使用与源代码管理不匹配的源文件。</td>\n<td>一个符合SLSA的构建服务器会识别实际使用的源代码，允许用户检测此类篡改。</td>\n</tr>\n<tr>\n<td>D</td>\n<td>被攻陷的构建平台</td>\n<td><a href=\"https://www.crowdstrike.com/blog/sunspot-malware-technical-analysis/\">SolarWinds</a>：攻击者破坏了构建平台，并植入了一个在每次构建过程中注入恶意代码的程序。</td>\n<td>更高SLSA 级别要求构建平台具有强有力的安全控制措施，确保构建平台可以持久性并且难以被破坏</td>\n</tr>\n<tr>\n<td>E</td>\n<td>使用恶意的依赖(即A-H，递归)</td>\n<td>事件流攻击：攻击者添加了一个无害的依赖项，然后更新该依赖并添加恶意代码。更新与提交给GitHub的代码不匹配（即攻击F）</td>\n<td>在所有依赖项中使用SLSA，可能会阻止特定的攻击，因为源代码可能会提示它不是由正确的构建环境构建的，或者源代码不是来自GitHub。</td>\n</tr>\n<tr>\n<td>F</td>\n<td>上传不是由CI&#x2F;CD系统生成的中间件</td>\n<td>CodeCov：攻击者使用泄露的证书将恶意中间件上传到GCS存储库，用户可以从上面直接下载。</td>\n<td>GCS存储库中，中间件的出处会显示中间件不是以预期的方式从预期的源构建的。</td>\n</tr>\n<tr>\n<td>G</td>\n<td>恶意的软件仓库</td>\n<td><a href=\"https://theupdateframework.io/papers/attacks-on-package-managers-ccs2008.pdf\">攻击软件镜像站</a>：研究人员测试几个流行的软件镜像站，这些镜像站可能会被用来托管恶意软件</td>\n<td>与上面的（F）类似，恶意组件的出处会显示它们不是按照预期构建的，或者不是从预期的源repo构建的。</td>\n</tr>\n<tr>\n<td>H</td>\n<td>欺骗用户使用恶意的软件包</td>\n<td><a href=\"https://blog.sonatype.com/damaging-linux-mac-malware-bundled-within-browserify-npm-brandjack-attempt\">包名抢注</a>: 攻击者上传了一个与原始文件名相似的恶意软件。</td>\n<td>SLSA不能直接解决这个威胁，但是通过控制源代码链接和增加其他解决方案来解决。</td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>可用性威胁</th>\n<th>已知的例子</th>\n<th>SLSA如何提供帮助</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E</td>\n<td>依赖项变得不可用</td>\n<td>Mimemagic：维护人员故意从存储库中删除软件包或软件包版本，没有警告。网络错误或服务中断也可能使软件包暂时不可用。</td>\n<td>SLSA没有直接应对这一威胁。</td>\n</tr>\n</tbody></table>\n<p>[[供应链攻击安全启示-SolarWinds事件分析]]</p>\n<h2 id=\"软件供应链级别SLSA评估案例-kubeedge安全审计报告\"><a href=\"#软件供应链级别SLSA评估案例-kubeedge安全审计报告\" class=\"headerlink\" title=\"软件供应链级别SLSA评估案例-kubeedge安全审计报告\"></a>软件供应链级别SLSA评估案例-kubeedge安全审计报告</h2><p>![[KubeEdge-security-audit-2022.pdf]]</p>\n<h2 id=\"References\"><a href=\"#References\" class=\"headerlink\" title=\"References\"></a>References</h2><ul>\n<li>cosign使用手册<a href=\"https://docs.sigstore.dev/cosign/usage/\">Detailed Usage - sigstore documentation</a></li>\n<li>SLSA术语<a href=\"https://slsa.dev/spec/v0.1/terminology\">SLSA • Terminology</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/539249285\">SLSA 框架与软件供应链安全防护 - 知乎</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/382721804\">从BAB到SLSA——谈Google的软件供应链风险治理 - 知乎</a></li>\n<li><a href=\"https://github.com/slsa-framework/slsa\">GitHub - slsa-framework&#x2F;slsa: Supply-chain Levels for Software Artifacts</a></li>\n</ul>\n","text":"软件供应链级别SLSA概述和背景SLSA • Supply-chain Levels for Software Artifacts这是一个安全框架，是标准和控制的清单，以防止篡改，提高完整性，并保护项目、企业或企业中的软件包和基础设施。这就是你如何在链条中的任何环节从足够安全到尽...","link":"","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[{"name":"软件供应链安全","slug":"软件供应链安全","count":26,"path":"api/categories/软件供应链安全.json"}],"tags":[{"name":"SCA","slug":"SCA","count":15,"path":"api/tags/SCA.json"},{"name":"软件供应链安全","slug":"软件供应链安全","count":11,"path":"api/tags/软件供应链安全.json"},{"name":"SLSA","slug":"SLSA","count":1,"path":"api/tags/SLSA.json"},{"name":"安全框架","slug":"安全框架","count":1,"path":"api/tags/安全框架.json"},{"name":"成熟度","slug":"成熟度","count":1,"path":"api/tags/成熟度.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%BD%AF%E4%BB%B6%E4%BE%9B%E5%BA%94%E9%93%BE%E7%BA%A7%E5%88%ABSLSA\"><span class=\"toc-text\">软件供应链级别SLSA</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%A6%82%E8%BF%B0%E5%92%8C%E8%83%8C%E6%99%AF\"><span class=\"toc-text\">概述和背景</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#SLSA%E7%94%A8%E9%80%94\"><span class=\"toc-text\">SLSA用途</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BA%A7%E5%88%AB%E6%91%98%E8%A6%81\"><span class=\"toc-text\">级别摘要</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A\"><span class=\"toc-text\">详细解释</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A8%81%E8%83%81%E4%B8%8E%E7%BC%93%E8%A7%A3%E6%8E%AA%E6%96%BD\"><span class=\"toc-text\">威胁与缓解措施</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BD%AF%E4%BB%B6%E4%BE%9B%E5%BA%94%E9%93%BE%E7%BA%A7%E5%88%ABSLSA%E8%AF%84%E4%BC%B0%E6%A1%88%E4%BE%8B-kubeedge%E5%AE%89%E5%85%A8%E5%AE%A1%E8%AE%A1%E6%8A%A5%E5%91%8A\"><span class=\"toc-text\">软件供应链级别SLSA评估案例-kubeedge安全审计报告</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#References\"><span class=\"toc-text\">References</span></a></li></ol></li></ol>","author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"一位正在重塑知识的技术人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"开源软件选型及安全指标参考","uid":"8ee8224489aaec6996f4a5509d1757b4","slug":"开源软件选型及安全指标参考","date":"2022-06-20T01:01:00.000Z","updated":"2022-10-26T08:14:49.648Z","comments":true,"path":"api/articles/开源软件选型及安全指标参考.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159447/abstract-ink-wallpapers-159447-4124-7248759.png","text":"开源软件选型及安全指标参考参考概述和背景开源软件供应链风险 安全漏洞 安全漏洞在生态中普遍存在 软件供应链中的安全漏洞影响广泛 安全漏洞危害严重 恶意软件 恶意软件感染方式多样、上下游投毒 恶意软件影响 软件许可证 软件许可证违反风险 软件许可证修改风险 软件维护 开源软件开发者...","link":"","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[{"name":"软件供应链安全","slug":"软件供应链安全","count":26,"path":"api/categories/软件供应链安全.json"}],"tags":[{"name":"开源软件安全指标","slug":"开源软件安全指标","count":1,"path":"api/tags/开源软件安全指标.json"},{"name":"openbase","slug":"openbase","count":1,"path":"api/tags/openbase.json"}],"author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"一位正在重塑知识的技术人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"开软软件合规风险材料整理","uid":"a848febdecd13e7af1ad2da3100c5412","slug":"开源合规","date":"2022-06-19T08:43:00.000Z","updated":"2022-10-26T08:11:21.569Z","comments":true,"path":"api/articles/开源合规.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159447/abstract-ink-wallpapers-159447-4136-9804020.png","text":"一、开源概述及开源风险分析开源合规系列（一）：开源概述及开源风险分析 二、开源许可证开源合规系列（二：上）：开源许可证之GPL、AGPL、LGPL、MPL开源合规系列（二：下）：开源许可证之Apache、MIT、BSD及许可证兼容性分析 三、开源合规系列（三）：开源合规建议及许可...","link":"","photos":[],"count_time":{"symbolsCount":174,"symbolsTime":"1 mins."},"categories":[{"name":"软件供应链安全","slug":"软件供应链安全","count":26,"path":"api/categories/软件供应链安全.json"}],"tags":[{"name":"软件供应链安全","slug":"软件供应链安全","count":11,"path":"api/tags/软件供应链安全.json"},{"name":"开源软件风险合规","slug":"开源软件风险合规","count":1,"path":"api/tags/开源软件风险合规.json"},{"name":"资料整理","slug":"资料整理","count":1,"path":"api/tags/资料整理.json"}],"author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"一位正在重塑知识的技术人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}