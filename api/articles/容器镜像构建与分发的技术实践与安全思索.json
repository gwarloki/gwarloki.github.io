{"title":"å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢","uid":"d761d3905282bd119994c0c8a6e0235c","slug":"å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢","date":"2022-09-01T06:34:00.000Z","updated":"2022-10-27T02:20:09.450Z","comments":true,"path":"api/articles/å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/244766/beach-themed-backgrounds-244766-2113386-274623.png","content":"<h1 id=\"å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢\"><a href=\"#å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢\" class=\"headerlink\" title=\"å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢\"></a>å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢</h1><h2 id=\"Backend\"><a href=\"#Backend\" class=\"headerlink\" title=\"Backend\"></a>Backend</h2><p><strong>Docker èƒ½å¼•çˆ†å®¹å™¨ï¼Œä¸»è¦åŸå› æ˜¯å®ƒå¸¦æ¥äº†é•œåƒå’Œé•œåƒåˆ†å‘æŠ€æœ¯ã€‚</strong> å®¹å™¨è¿è¡Œæ—¶æ˜¯ Kubernetes å¹³å°çš„åŸºç¡€ç»„ä»¶ï¼Œé•œåƒåˆ™æ˜¯å®¹å™¨çš„é™æ€æ–‡ä»¶ï¼Œå®¹å™¨ç”±é•œåƒåˆ›å»ºã€‚åœ¨ Kubernetes å¹³å°ä¸­ï¼Œæˆ‘ä»¬äº¤ä»˜çš„æ‰€æœ‰åº”ç”¨ï¼Œæœ€ç»ˆéƒ½æ˜¯ä»¥é•œåƒå½¢å¼äº¤ä»˜çš„ï¼Œé•œåƒçš„æ„å»ºä¸åˆ†å‘ï¼Œç›´æ¥å½±å“ CI&#x2F;CD çš„å®Œæˆåº¦ã€‚æ‰€ä»¥ï¼Œé•œåƒä¹Ÿæ˜¯ Kubernetes å¹³å°çš„é‡è¦åŸºç¡€ã€‚</p>\n<h3 id=\"é•œåƒçš„æ¥æº\"><a href=\"#é•œåƒçš„æ¥æº\" class=\"headerlink\" title=\"é•œåƒçš„æ¥æº\"></a>é•œåƒçš„æ¥æº</h3><p>é•œåƒçš„æ¥æºä¸€èˆ¬æœ‰ä¸¤ç§å½¢å¼ã€‚ä¸€ç§æ˜¯é€šè¿‡æ„å»ºç”Ÿæˆé•œåƒï¼Œåœ¨åŸºç¡€é•œåƒä¸Šæ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰çš„å†…å®¹åŠé…ç½®ï¼Œåˆ¶ä½œå‡ºä¸šåŠ¡é•œåƒï¼Œå¦‚åŸºäº JDK åŸºç¡€é•œåƒæ„å»º Java ç¨‹åºçš„åº”ç”¨é•œåƒã€‚å¦ä¸€ç§æ˜¯ä»é•œåƒä»“åº“è·å–åˆ«äººåˆ¶ä½œå¥½çš„é•œåƒï¼Œå¾ˆå¤šå¸¸ç”¨è½¯ä»¶æˆ–ç³»ç»Ÿéƒ½ä¼šæœ‰å®˜æ–¹åˆ¶ä½œå¥½çš„é•œåƒï¼Œå­˜å‚¨åœ¨å…¬å¼€çš„é•œåƒä»“åº“ä¸­ï¼Œå¦‚ rockyã€nginxã€redis ç­‰ï¼Œä½ å¯ä»¥åœ¨Â Docker HubÂ æœç´¢å¹¶ä¸‹è½½å®ƒä»¬ã€‚</p>\n<h3 id=\"å…³äºå…å‘è¡Œç‰ˆå®¹å™¨çš„æ¦‚å¿µ\"><a href=\"#å…³äºå…å‘è¡Œç‰ˆå®¹å™¨çš„æ¦‚å¿µ\" class=\"headerlink\" title=\"å…³äºå…å‘è¡Œç‰ˆå®¹å™¨çš„æ¦‚å¿µ\"></a>å…³äºå…å‘è¡Œç‰ˆå®¹å™¨çš„æ¦‚å¿µ</h3><p>å¤§ä½“æ¦‚å¿µæ˜¯å°†åº”ç”¨ç¨‹åºæ‰“åŒ…åˆ°å®¹å™¨é•œåƒä¸­ï¼ŒåŒæ—¶å°½å¯èƒ½å¤šåœ°åˆ é™¤æ“ä½œç³»ç»Ÿï¼ˆè½¯ä»¶åŒ…ç®¡ç†å™¨ã€åº“ã€shellç­‰ï¼‰å¦‚è°·æ­Œçš„[[å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢#åŸºç¡€é•œåƒ-Distroless]].<br>ä½†æ˜¯ï¼Œå°±Linuxå‘è¡Œç‰ˆæ¥è¯´æ˜¯ç”±ä¸¤ä¸ªä¸»è¦ç»„ä»¶ç»„æˆçš„ï¼šå†…æ ¸å’Œç”¨æˆ·ç©ºé—´ã€‚å†…æ ¸ç›¸å¯¹å®¹å™¨ç†è§£ï¼Œå®ƒæ˜¯æ˜¯ä¸ªç¡¬ä»¶æˆ–è™šæ‹Ÿæœºè¿è¡Œçš„ç‰¹æ®Šç¨‹åºã€‚ç”¨æˆ·ç©ºé—´æœ‰ç‚¹éš¾ä»¥ç†è§£ã€‚ç”¨æˆ·ç©ºé—´åŒ…æ‹¬åœ¨å®¹å™¨é•œåƒä¸­çœ‹åˆ°çš„æ‰€æœ‰å†…å®¹ï¼Œå¦‚Cåº“ï¼ˆglibc)ã€WebæœåŠ¡å™¨ã€åŠ å¯†åº“ã€æ—¶åŒºæ•°æ®ã€åŒºåŸŸè®¾ç½®æ•°æ®ï¼ˆè¯­è¨€ï¼‰ç­‰ã€‚<br><strong>ç”¨æˆ·ç©ºé—´æ— æ³•çœŸæ­£ä»å‘è¡Œç‰ˆå®¹å™¨é•œåƒä¸­åˆ é™¤ï¼Œæ— å‘è¡Œç‰ˆé•œåƒå¿…é¡»å§‹ç»ˆåœ¨å†…æ ¸ä¸Šè¿è¡Œã€‚å³ä½¿è°·æ­Œçš„[[å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢#åŸºç¡€é•œåƒ-Distroless]]é¡¹ç›®ä¹Ÿä¾èµ–Debianæ¥æ»¡è¶³ç”¨æˆ·ç©ºé—´è¦æ±‚ã€‚</strong> <a href=\"https://github.com/GoogleContainerTools/distroless/issues/780\">when can we expect distroless based on bullseye? Â· Issue #780 Â· GoogleContainerTools&#x2F;distroless Â· GitHub</a><br><strong>å³ä½¿åœ¨æ— å‘è¡Œç‰ˆçš„å®¹å™¨é•œåƒä¸­ï¼Œæƒ³Javaè™šæ‹Ÿæœºã€Pythonå’Œnode.jsç­‰å†…å®¹ä¹Ÿæ˜¯æ ¹æ®Cåº“ç¼–è¯‘çš„ï¼Œè¯¥åº“æ˜¯è¿™äº›ç”¨æˆ·ç©ºé—´ç¨‹åºå¯ä»¥è®¿é—®Linuxå†…æ ¸ä¸­çš„ä½çº§åŠŸèƒ½ï¼ˆç½‘ç»œå¥—æ¥å­—ã€å­˜å‚¨ã€æ–‡ä»¶ç­‰ï¼‰</strong></p>\n<h2 id=\"Challenge\"><a href=\"#Challenge\" class=\"headerlink\" title=\"Challenge\"></a>Challenge</h2><h3 id=\"ä¼ä¸šä¸­å“ªä¸ªéƒ¨é—¨è´Ÿè´£æ„å»ºé•œåƒ\"><a href=\"#ä¼ä¸šä¸­å“ªä¸ªéƒ¨é—¨è´Ÿè´£æ„å»ºé•œåƒ\" class=\"headerlink\" title=\"ä¼ä¸šä¸­å“ªä¸ªéƒ¨é—¨è´Ÿè´£æ„å»ºé•œåƒ\"></a>ä¼ä¸šä¸­å“ªä¸ªéƒ¨é—¨è´Ÿè´£æ„å»ºé•œåƒ</h3><h3 id=\"dockerçš„å®‰å…¨é—®é¢˜\"><a href=\"#dockerçš„å®‰å…¨é—®é¢˜\" class=\"headerlink\" title=\"dockerçš„å®‰å…¨é—®é¢˜\"></a>dockerçš„å®‰å…¨é—®é¢˜</h3><ul>\n<li>Â Docker daemon (Docker in Docker)</li>\n<li>Â Docker Unix socketä»ä¸»æœºæŒ‚è½½åˆ°æ„å»ºå®¹å™¨ä¸­</li>\n</ul>\n<h3 id=\"æ€§èƒ½é—®é¢˜\"><a href=\"#æ€§èƒ½é—®é¢˜\" class=\"headerlink\" title=\"æ€§èƒ½é—®é¢˜\"></a>æ€§èƒ½é—®é¢˜</h3><ul>\n<li>å¤šå¤§ç¨‹åº¦çš„åˆ©ç”¨ç¼“å­˜</li>\n<li>OCIæ ‡å‡†å’ŒK8Sç”Ÿæ€</li>\n</ul>\n<h2 id=\"Theory\"><a href=\"#Theory\" class=\"headerlink\" title=\"Theory\"></a>Theory</h2><h3 id=\"åæ¨¡å¼ä¹‹é»„é‡‘åŸºç¡€é•œåƒ\"><a href=\"#åæ¨¡å¼ä¹‹é»„é‡‘åŸºç¡€é•œåƒ\" class=\"headerlink\" title=\"åæ¨¡å¼ä¹‹é»„é‡‘åŸºç¡€é•œåƒ\"></a>åæ¨¡å¼ä¹‹é»„é‡‘åŸºç¡€é•œåƒ</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>â€¢é»„é‡‘åŸºç¡€é•œåƒ (golden base image)ï¼šæˆ‘ä»¬é¢„å…ˆé…ç½®å¥½çš„é•œåƒï¼Œä½œä¸ºæ„å»ºåº”ç”¨ç¨‹åºé•œåƒçš„åŸºç¡€é•œåƒã€‚<br>â€¢åæ¨¡å¼ (antipattern)Â ï¼šåœ¨å®è·µä¸­ç»å¸¸å‡ºç°ä½†ä½æ•ˆæˆ–æ˜¯æœ‰å¾…ä¼˜åŒ–çš„è®¾è®¡æ¨¡å¼ã€‚</p></blockquote>\n<p>é»„é‡‘é•œåƒçš„æ¦‚å¿µä½œä¸ºæœ€å¸¸è§çš„åŸºç¡€å®¹å™¨å®‰å…¨æ§åˆ¶çš„æ€è·¯ï¼Œé€šè¿‡é¢„å…ˆé…ç½®å¥½çš„åŸºç¡€é•œåƒæ„å»ºä¼ä¸šåº”ç”¨ç¨‹åºçš„é•œåƒï¼Œé•œåƒçš„å·¥å…·å’Œåº“éƒ½ç»è¿‡äº†ä¸¥æ ¼çš„å®¡æ ¸ã€‚<strong>éœ€è¦æ£€æŸ¥ã€ç»´æŠ¤ç›¸å…³è½¯ä»¶çš„å®‰å…¨çŠ¶æ€ï¼Œå¹¶ä¸”è¦å®¡æ ¸ä½¿ç”¨éé»„é‡‘é•œåƒæ„å»ºçš„åº”ç”¨é•œåƒï¼Œå¯èƒ½è¦å¼•å…¥å¯ä¿¡é•œåƒçš„æ¦‚å¿µå’Œæ–¹æ³•è®º</strong>è€ƒè™‘åˆ°å½“ä»ç¬¬ä¸‰æ–¹æˆ–å®˜æ–¹è·å–éœ€è¦çš„ä¸Šæ¸¸é•œåƒæ„å»ºåº”ç”¨ç¨‹åºå’Œé…ç½®æ—¶ä¼šå¼•å…¥æ–°çš„ç›¸å…³é—®é¢˜ï¼Œé¦–å…ˆï¼Œä»ä¸Šæ¸¸é•œåƒåˆ°å†…éƒ¨å®šåˆ¶ç‰ˆé•œåƒçš„åˆå§‹è½¬æ¢æ¶‰åŠé¢å¤–å·¥ä½œã€‚å…¶æ¬¡ï¼Œè¿ç»´å›¢é˜Ÿæœ‰è´£ä»»å­˜å‚¨å’Œç»´æŠ¤è¿™äº›å†…éƒ¨é•œåƒã€‚åœ¨å…¸å‹ç¯å¢ƒä¸­ï¼Œä½¿ç”¨çš„é•œåƒæ•°é‡ä¼šè¶Šæ¥è¶Šå¤šï¼Œæ¶‰åŠçš„é¢å¤–å·¥ä½œä¹Ÿéšä¹‹å¢åŠ ï¼Œæœ€ç»ˆå¯¼è‡´æ›´ä¸¥å³»çš„å®‰å…¨çŠ¶å†µï¼Œå¦‚é•œåƒçš„æ›´æ–°æ“ä½œï¼Œå³ä½¿æœ‰ï¼Œé¢‘ç‡ä¹Ÿä¼šå¾ˆä½ã€‚</p>\n<p><strong>é»„é‡‘é•œåƒçš„ä¸€äº›è¦æ±‚ï¼š</strong></p>\n<ul>\n<li>ç¡®ä¿å®‰è£…äº†ç‰¹å®šçš„è½¯ä»¶</li>\n<li>ç¡®ä¿ä¸å­˜åœ¨æ˜“å—æ”»å‡»çš„åº“</li>\n<li>ç¡®ä¿ç”¨æˆ·å…·æœ‰æ­£ç¡®çš„æƒé™</li>\n</ul>\n<p><strong>è¯„ä¼°é»„é‡‘é•œåƒçš„åŸåˆ™ï¼š</strong></p>\n<ul>\n<li>ç¡®ä¿é•œåƒç”±ä¿¡èª‰è‰¯å¥½çš„ç»„ç»‡å‘å¸ƒã€‚ä¸èƒ½éšä¾¿ä» DockerHub æˆ–å…¶ä»–å…¬å¼€çš„é•œåƒæ³¨å†Œè¡¨çš„æŸä¸ªä»“åº“ä¸‹è½½é•œåƒï¼Œå› ä¸ºè¿™äº›é•œåƒå°†æ˜¯æ„å»ºåº”ç”¨ç¨‹åºé•œåƒçš„åŸºç¡€ã€‚</li>\n<li>ä¼˜å…ˆé€‰æ‹©æŒç»­æ›´æ–°çš„é•œåƒã€‚åŸºç¡€é•œåƒé€šå¸¸åŒ…å«å·¥å…·å’Œåº“ï¼Œå‘ç°æ¼æ´æ—¶ï¼Œå¿…é¡»æ‰“è¡¥ä¸ã€‚</li>\n<li>é¦–é€‰å¼€æºäº†æ„å»ºè¿‡ç¨‹æˆ–è§„èŒƒçš„é•œåƒã€‚é€šå¸¸æ˜¯ Dockerfile æ–‡ä»¶ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒäº†è§£é•œåƒæ˜¯å¦‚ä½•æ„å»ºçš„ã€‚</li>\n<li>é¿å…ä½¿ç”¨åŒ…å«ä¸å¿…è¦å·¥å…·æˆ–åº“çš„é•œåƒã€‚é¦–é€‰æœ€å°åŒ–é•œåƒï¼Œè¿™äº›é•œåƒå ç”¨çš„ç©ºé—´å¾ˆå°ï¼Œå¿…è¦æ—¶å¼€å‘äººå‘˜å¯ä»¥åœ¨å…¶ä¸Šè¿›è¡ŒäºŒæ¬¡æ„å»ºã€‚</li>\n</ul>\n<h3 id=\"åŸºç¡€é•œåƒ-Distroless\"><a href=\"#åŸºç¡€é•œåƒ-Distroless\" class=\"headerlink\" title=\"åŸºç¡€é•œåƒ-Distroless\"></a>åŸºç¡€é•œåƒ-Distroless</h3><p>è°·æ­Œç°åœ¨é€šè¿‡æä¾› <code>Distroless</code> é•œåƒå‘å…¨ä¸–ç•Œå¼€æ”¾è¿™ç§èƒ½åŠ›ã€‚è°·æ­Œæ„å»ºçš„è¿™äº›é•œåƒçš„ç›®æ ‡æ˜¯åªåŒ…å«ä½ çš„åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–é¡¹ï¼ŒåŒæ—¶å®ƒä»¬å°†æ²¡æœ‰å¸¸è§„ <code>Linux</code> å‘è¡Œç‰ˆçš„æ‰€æœ‰ç‰¹æ€§ï¼ŒåŒ…æ‹¬ <code>shell</code>ã€‚</p>\n<p><strong>è¿™æ„å‘³ç€è™½ç„¶å¯ä»¥æƒ³ä»¥å‰ä¸€æ ·è¿è¡Œåº”ç”¨ç¨‹åºçš„å®¹å™¨ï¼Œä½†ä¸èƒ½åœ¨å®¹å™¨è¿è¡Œçš„æ—¶å€™è¿›å…¥å®¹å™¨å†…</strong>ã€‚è¿™æ˜¯ä¸€ä¸ªé‡å¤§çš„å®‰å…¨æ”¹è¿›ï¼Œå› ä¸ºä½ ç°åœ¨å·²ç»ä¸ºé»‘å®¢é€šè¿‡ <code>shell</code> è¿›å…¥ä½ çš„å®¹å™¨å…³ä¸Šäº†å¤§é—¨ã€‚</p>\n<p>ä»¥ä¸‹åŸºç¡€é•œåƒæ˜¯æ­£å¼å‘å¸ƒçš„ç‰ˆæœ¬ï¼š<strong>ç›®å‰æœ€æ–°ç‰ˆæœ¬æ”¯æŒdebian11</strong></p>\n<ul>\n<li><a href=\"https://github.com/GoogleContainerTools/distroless/blob/main/base/README.md\">gcr.io&#x2F;distroless&#x2F;static-debian10</a></li>\n<li><a href=\"https://github.com/GoogleContainerTools/distroless/blob/main/base/README.md\">gcr.io&#x2F;distroless&#x2F;base-debian10</a></li>\n<li><a href=\"https://github.com/GoogleContainerTools/distroless/blob/main/java/README.md\">gcr.io&#x2F;distroless&#x2F;java-debian10</a></li>\n<li><a href=\"https://github.com/GoogleContainerTools/distroless/blob/main/cc/README.md\">gcr.io&#x2F;distroless&#x2F;cc-debian10</a></li>\n<li><a href=\"https://github.com/GoogleContainerTools/distroless/blob/main/nodejs/README.md\">gcr.io&#x2F;distroless&#x2F;nodejs-debian10</a></li>\n</ul>\n<p>ä¸‹é¢çš„åŸºç¡€é•œåƒä»åœ¨å®éªŒé˜¶æ®µï¼Œä¸æ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼š</p>\n<ul>\n<li><a href=\"https://github.com/GoogleContainerTools/distroless/blob/main/experimental/python2.7/README.md\">gcr.io&#x2F;distroless&#x2F;python2.7-debian10</a></li>\n<li><a href=\"https://github.com/GoogleContainerTools/distroless/blob/main/experimental/python3/README.md\">gcr.io&#x2F;distroless&#x2F;python3-debian10</a></li>\n<li><a href=\"https://github.com/GoogleContainerTools/distroless/blob/main/java/jetty/README.md\">gcr.io&#x2F;distroless&#x2F;java&#x2F;jetty-debian10</a></li>\n<li><a href=\"https://github.com/GoogleContainerTools/distroless/blob/main/experimental/dotnet/README.md\">gcr.io&#x2F;distroless&#x2F;dotnet</a></li>\n</ul>\n<h4 id=\"example\"><a href=\"#example\" class=\"headerlink\" title=\"example\"></a>example</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\"># Start by building the application.\nFROM golang:1.18 as build\n\nWORKDIR &#x2F;go&#x2F;src&#x2F;app\nCOPY . .\n\nRUN go mod download\nRUN CGO_ENABLED&#x3D;0 go build -o &#x2F;go&#x2F;bin&#x2F;app\n\n# Now copy it into our base image.\nFROM gcr.io&#x2F;distroless&#x2F;static-debian11\nCOPY --from&#x3D;build &#x2F;go&#x2F;bin&#x2F;app &#x2F;\nCMD [&quot;&#x2F;app&quot;]\n\n</code></pre>\n<h4 id=\"å…³äºç½‘ç»œ\"><a href=\"#å…³äºç½‘ç»œ\" class=\"headerlink\" title=\"å…³äºç½‘ç»œ\"></a>å…³äºç½‘ç»œ</h4><p>å‚è€ƒ<a href=\"https://soulteary.com/2018/10/03/how-to-get-your-k8s-cluster.html#%E8%8E%B7%E5%8F%96%E9%95%9C%E5%83%8F%E5%B9%B6%E5%AF%BC%E5%87%BA%E4%B8%BA%E7%A6%BB%E7%BA%BF%E9%95%9C%E5%83%8F%E5%8C%85\">ä¸‹è½½ç¦»çº¿é•œåƒ</a>ï¼Œä½¿ç”¨äº‘æœåŠ¡å™¨æˆ–è€…æœ‰ğŸªœæ¡ä»¶çš„æœåŠ¡å™¨è·å–é•œåƒã€‚</p>\n<h4 id=\"å…³äºè°ƒè¯•\"><a href=\"#å…³äºè°ƒè¯•\" class=\"headerlink\" title=\"å…³äºè°ƒè¯•\"></a>å…³äºè°ƒè¯•</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\"># Start by building the application.\nFROM golang:1.18 as build\n\nWORKDIR &#x2F;go&#x2F;src&#x2F;app\nCOPY . .\n\nRUN go mod download\nRUN CGO_ENABLED&#x3D;0 go build -o &#x2F;go&#x2F;bin&#x2F;app\n\n# åœ¨é•œåƒåæ·»åŠ  debug æ ‡ç­¾å¼€å¯è°ƒè¯•æ¨¡å¼\nFROM gcr.io&#x2F;distroless&#x2F;base:debug\nCOPY --from&#x3D;build &#x2F;go&#x2F;bin&#x2F;app &#x2F;\nCMD [&quot;&#x2F;app&quot;]</code></pre>\n\n<h2 id=\"Tools-æ„å»ºå®¹å™¨çš„å·¥å…·\"><a href=\"#Tools-æ„å»ºå®¹å™¨çš„å·¥å…·\" class=\"headerlink\" title=\"Tools-æ„å»ºå®¹å™¨çš„å·¥å…·\"></a>Tools-æ„å»ºå®¹å™¨çš„å·¥å…·</h2><h3 id=\"BuildKit\"><a href=\"#BuildKit\" class=\"headerlink\" title=\"BuildKit\"></a>BuildKit</h3><p><strong>BuildKit</strong>Â æ˜¯ä¸‹ä¸€ä»£çš„é•œåƒæ„å»ºç»„ä»¶ï¼Œåœ¨Â <a href=\"https://github.com/moby/buildkit\">https://github.com/moby/buildkit</a>Â å¼€æºã€‚</p>\n<p><strong>æ³¨æ„ï¼šå¦‚æœæ‚¨çš„é•œåƒæ„å»ºä½¿ç”¨çš„æ˜¯äº‘æœåŠ¡å•†æä¾›çš„é•œåƒæ„å»ºæœåŠ¡ï¼ˆè…¾è®¯äº‘å®¹å™¨æœåŠ¡ã€é˜¿é‡Œäº‘å®¹å™¨æœåŠ¡ç­‰ï¼‰ï¼Œç”±äºä¸Šè¿°æœåŠ¡æä¾›å•†çš„ Docker ç‰ˆæœ¬ä½äº 18.09ï¼ŒBuildKit æ— æ³•ä½¿ç”¨ï¼Œå°†é€ æˆé•œåƒæ„å»ºå¤±è´¥ã€‚<a href=\"https://docs.docker.com/build/\">build</a>å»ºè®®ä½¿ç”¨ BuildKit æ„å»ºé•œåƒæ—¶ä½¿ç”¨ä¸€ä¸ªæ–°çš„ Dockerfile æ–‡ä»¶ï¼ˆä¾‹å¦‚ Dockerfile.buildkitï¼‰</strong></p>\n<p>ç›®å‰ï¼ŒDocker Hub è‡ªåŠ¨æ„å»ºå·²ç»æ”¯æŒ buildkitï¼Œå…·ä½“è¯·å‚è€ƒÂ <a href=\"https://github.com/docker-practice/docker-hub-buildx\">https://github.com/docker-practice/docker-hub-buildx</a></p>\n<h3 id=\"Cloud-Native-Buildpacksï¼ˆCNBï¼‰\"><a href=\"#Cloud-Native-Buildpacksï¼ˆCNBï¼‰\" class=\"headerlink\" title=\"Cloud Native Buildpacksï¼ˆCNBï¼‰\"></a>Cloud Native Buildpacksï¼ˆCNBï¼‰</h3><h3 id=\"kaniko\"><a href=\"#kaniko\" class=\"headerlink\" title=\"kaniko\"></a>kaniko</h3><p>kaniko æ˜¯ä¸€ä¸ªåœ¨å®¹å™¨æˆ– Kubernetes é›†ç¾¤å†…ä» Dockerfile æ„å»ºå®¹å™¨é•œåƒçš„å·¥å…· ( Build Container Images In Kubernetes )ã€‚</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ç”±äº kaniko ä¸ä¾èµ–äº Docker å®ˆæŠ¤è¿›ç¨‹ï¼Œå¹¶ä¸”å®Œå…¨åœ¨ç”¨æˆ·ç©ºé—´ä¸­æ‰§è¡Œ Dockerfile ä¸­çš„æ¯ä¸ªå‘½ä»¤ï¼Œè¿™ä½¿å¾—èƒ½å¤Ÿåœ¨è½»æ¾æˆ–å®‰å…¨åœ°è¿è¡Œåœ¨<code>æ— Dockerå®ˆæŠ¤ç¨‹åºçš„ç¯å¢ƒ</code>ï¼ˆå¦‚æ ‡å‡†Kubernetesé›†ç¾¤ V1.24.xï¼‰ä¸­æ„å»ºå®¹å™¨æ˜ åƒã€‚<br>åœ¨ Kubernetes V1.24.x ç‰ˆæœ¬ä¹‹åé»˜è®¤é‡‡ç”¨Â containerd.ioÂ ä½œä¸ºç¼ºçœçš„criï¼Œä¸åœ¨æ”¯æŒ docker-shim æ„å‘³ç€æˆ‘ä»¬ä¸éœ€è¦å®‰è£… docker ç¯å¢ƒ</p></blockquote>\n<h3 id=\"Bazel\"><a href=\"#Bazel\" class=\"headerlink\" title=\"Bazel\"></a>Bazel</h3><p>å¾…è¡¥å……</p>\n<h3 id=\"img\"><a href=\"#img\" class=\"headerlink\" title=\"img\"></a>img</h3><p>å¾…è¡¥å……</p>\n<h3 id=\"jib\"><a href=\"#jib\" class=\"headerlink\" title=\"jib\"></a>jib</h3><p>å¦‚æœä½ æ˜¯åœ¨ Java ç¯å¢ƒä¸‹é¢ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ Jib æ¥æ„å»ºé•œåƒï¼ŒJib ä¹Ÿæ˜¯ Google å¼€æºçš„ï¼Œåªæ˜¯æ˜¯é’ˆå¯¹ Java å®¹å™¨é•œåƒæ„å»ºçš„å·¥å…·ã€‚<br>é€šè¿‡ä½¿ç”¨ Jibï¼ŒJava å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ä»–ä»¬ç†Ÿæ‚‰çš„ Java å·¥å…·æ¥æ„å»ºé•œåƒã€‚Jib æ˜¯ä¸€ä¸ªå¿«é€Ÿè€Œç®€å•çš„å®¹å™¨é•œåƒæ„å»ºå·¥å…·ï¼Œå®ƒè´Ÿè´£å¤„ç†å°†åº”ç”¨ç¨‹åºæ‰“åŒ…åˆ°å®¹å™¨é•œåƒä¸­æ‰€éœ€çš„æ‰€æœ‰æ­¥éª¤ï¼Œå®ƒä¸éœ€è¦ä½ ç¼–å†™ Dockerfile æˆ–å®‰è£… Dockerï¼Œè€Œä¸”å¯ä»¥ç›´æ¥é›†æˆåˆ° Maven å’Œ Gradle ä¸­ï¼Œåªéœ€è¦å°†æ’ä»¶æ·»åŠ åˆ°æ„å»ºä¸­ï¼Œå°±å¯ä»¥ç«‹å³å°† Java åº”ç”¨ç¨‹åºå®¹å™¨åŒ–ã€‚</p>\n<p>Jib åˆ©ç”¨äº† Docker é•œåƒçš„åˆ†å±‚æœºåˆ¶ï¼Œå°†å…¶ä¸æ„å»ºç³»ç»Ÿé›†æˆï¼Œå¹¶é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¼˜åŒ– Java å®¹å™¨é•œåƒçš„æ„å»ºï¼š</p>\n<ul>\n<li><p>ç®€å•ï¼šJib ä½¿ç”¨ Java å¼€å‘ï¼Œå¹¶ä½œä¸º Maven æˆ– Gradle çš„ä¸€éƒ¨åˆ†è¿è¡Œã€‚ä½ ä¸éœ€è¦ç¼–å†™ Dockerfile æˆ–è¿è¡Œ Docker å®ˆæŠ¤è¿›ç¨‹ï¼Œç”šè‡³æ— éœ€åˆ›å»ºåŒ…å«æ‰€æœ‰ä¾èµ–çš„å¤§ JAR åŒ…ã€‚å› ä¸º Jib ä¸ Java æ„å»ºè¿‡ç¨‹ç´§å¯†é›†æˆï¼Œæ‰€ä»¥å®ƒå¯ä»¥è®¿é—®åˆ°æ‰“åŒ…åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p>\n</li>\n<li><p>å¿«é€Ÿï¼šJib åˆ©ç”¨é•œåƒåˆ†å±‚å’Œç¼“å­˜æ¥å®ç°å¿«é€Ÿã€å¢é‡çš„æ„å»ºã€‚å®ƒè¯»å–ä½ çš„æ„å»ºé…ç½®ï¼Œå°†ä½ çš„åº”ç”¨ç¨‹åºç»„ç»‡åˆ°ä¸åŒçš„å±‚ï¼ˆä¾èµ–é¡¹ã€èµ„æºã€ç±»ï¼‰ä¸­ï¼Œå¹¶åªé‡æ–°æ„å»ºå’Œæ¨é€å‘ç”Ÿå˜æ›´çš„å±‚ã€‚åœ¨é¡¹ç›®è¿›è¡Œå¿«é€Ÿè¿­ä»£æ—¶ï¼ŒJib åªå°†å‘ç”Ÿå˜æ›´çš„å±‚ï¼ˆè€Œä¸æ˜¯æ•´ä¸ªåº”ç”¨ç¨‹åºï¼‰æ¨é€åˆ°é•œåƒä»“åº“æ¥èŠ‚çœå®è´µçš„æ„å»ºæ—¶é—´ã€‚</p>\n</li>\n<li><p>å¯é‡ç°ï¼šJib æ”¯æŒæ ¹æ® Maven å’Œ Gradle çš„æ„å»ºå…ƒæ•°æ®è¿›è¡Œå£°æ˜å¼çš„å®¹å™¨é•œåƒæ„å»ºï¼Œå› æ­¤ï¼Œåªè¦è¾“å…¥ä¿æŒä¸å˜ï¼Œå°±å¯ä»¥é€šè¿‡é…ç½®é‡å¤åˆ›å»ºç›¸åŒçš„é•œåƒã€‚</p>\n</li>\n</ul>\n<h2 id=\"References\"><a href=\"#References\" class=\"headerlink\" title=\"References\"></a>References</h2><p><a href=\"https://mp.weixin.qq.com/s/8B36Tyjer3lN5I1mhjBICA\">å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘</a><br><a href=\"https://cloud.tencent.com/developer/article/1840211\">å¦‚ä½•ä½¿ç”¨ Distroless è®©ä½ çš„å®¹å™¨æ›´åŠ å®‰å…¨ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘</a><br><a href=\"https://zhuanlan.zhihu.com/p/421204096\">ä½¿ç”¨ä»¥è¯­è¨€ä¸ºä¸­å¿ƒçš„å®¹å™¨åŸºç¡€é•œåƒ distroless - çŸ¥ä¹</a><br><a href=\"https://soulteary.com/2018/10/03/how-to-get-your-k8s-cluster.html#%E8%8E%B7%E5%8F%96%E9%95%9C%E5%83%8F%E5%B9%B6%E5%AF%BC%E5%87%BA%E4%B8%BA%E7%A6%BB%E7%BA%BF%E9%95%9C%E5%83%8F%E5%8C%85\">ç®€å•çš„ Kubernetes é›†ç¾¤æ­å»º - è‹æ´‹åšå®¢</a><br><a href=\"https://www.thoughtworks.com/zh-cn/radar/techniques/distroless-docker-images\">Distroless Docker images | Technology Radar | Thoughtworks</a><br><a href=\"https://segmentfault.com/a/1190000040255793\">å¦‚ä½•ä½¿ç”¨ Distroless è®©ä½ çš„å®¹å™¨æ›´åŠ å®‰å…¨ - SegmentFault æ€å¦</a><br><a href=\"https://mp.weixin.qq.com/s/wchtH6i0xKrIrqSuYKmWkg\">ä¸¢å¼ƒæ‰‹ä¸­çš„docker build ï¼Œä½¿ç”¨Kanikoç›´æ¥åœ¨K8Sé›†ç¾¤æˆ–Containerdç¯å¢ƒæ„å»ºæ¨é€å®¹å™¨é•œåƒ</a><br><a href=\"https://mp.weixin.qq.com/s/6zCtacL5rpO9Y6o0IrQl8Q\">å¸¸ç”¨å®¹å™¨é•œåƒæ„å»ºå·¥å…·å’Œæ–¹æ¡ˆä»‹ç»</a><br><a href=\"https://betterprogramming.pub/how-to-harden-your-containers-with-distroless-docker-images-c2abd7c71fdb\">Harden Your Containers with Distroless Docker Images | Better Programming</a><br><a href=\"https://www.redhat.com/en/blog/why-distroless-containers-arent-security-solution-you-think-they-are\">Why distroless containers arenâ€™t the security solution you think they are</a><br><a href=\"https://opensource.com/article/19/2/linux-distributions-still-matter-containers?extIdCarryOver=true&sc_cid=701f2000001Css5AAC\">Do Linux distributions still matter with containers?</a><br><a href=\"https://www.thoughtworks.com/zh-cn/radar/techniques/distroless-docker-images\">Distroless Docker images | Technology Radar | Thoughtworks</a><br><a href=\"https://mp.weixin.qq.com/s/1o4ec6m4LANHt1wgPrwZDA\">å¯ä»¥åƒ Docker ä¸€æ ·æ–¹ä¾¿çš„ä½¿ç”¨ Containerd å—ï¼Ÿ</a></p>\n","text":"å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢BackendDocker èƒ½å¼•çˆ†å®¹å™¨ï¼Œä¸»è¦åŸå› æ˜¯å®ƒå¸¦æ¥äº†é•œåƒå’Œé•œåƒåˆ†å‘æŠ€æœ¯ã€‚ å®¹å™¨è¿è¡Œæ—¶æ˜¯ Kubernetes å¹³å°çš„åŸºç¡€ç»„ä»¶ï¼Œé•œåƒåˆ™æ˜¯å®¹å™¨çš„é™æ€æ–‡ä»¶ï¼Œå®¹å™¨ç”±é•œåƒåˆ›å»ºã€‚åœ¨ Kubernetes å¹³å°ä¸­ï¼Œæˆ‘ä»¬äº¤ä»˜çš„æ‰€æœ‰åº”ç”¨ï¼Œæœ€ç»ˆéƒ½æ˜¯ä»¥é•œåƒå½¢...","link":"","photos":[],"count_time":{"symbolsCount":"5.1k","symbolsTime":"5 mins."},"categories":[{"name":"Cloud-Native-Security","slug":"Cloud-Native-Security","count":12,"path":"api/categories/Cloud-Native-Security.json"}],"tags":[{"name":"å®¹å™¨é•œåƒå®‰å…¨","slug":"å®¹å™¨é•œåƒå®‰å…¨","count":2,"path":"api/tags/å®¹å™¨é•œåƒå®‰å…¨.json"},{"name":"Distroless","slug":"Distroless","count":1,"path":"api/tags/Distroless.json"},{"name":"buidlkit","slug":"buidlkit","count":1,"path":"api/tags/buidlkit.json"},{"name":"CNB","slug":"CNB","count":1,"path":"api/tags/CNB.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA%E4%B8%8E%E5%88%86%E5%8F%91%E7%9A%84%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5%E4%B8%8E%E5%AE%89%E5%85%A8%E6%80%9D%E7%B4%A2\"><span class=\"toc-text\">å®¹å™¨é•œåƒæ„å»ºä¸åˆ†å‘çš„æŠ€æœ¯å®è·µä¸å®‰å…¨æ€ç´¢</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Backend\"><span class=\"toc-text\">Backend</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%95%9C%E5%83%8F%E7%9A%84%E6%9D%A5%E6%BA%90\"><span class=\"toc-text\">é•œåƒçš„æ¥æº</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%B3%E4%BA%8E%E5%85%8D%E5%8F%91%E8%A1%8C%E7%89%88%E5%AE%B9%E5%99%A8%E7%9A%84%E6%A6%82%E5%BF%B5\"><span class=\"toc-text\">å…³äºå…å‘è¡Œç‰ˆå®¹å™¨çš„æ¦‚å¿µ</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Challenge\"><span class=\"toc-text\">Challenge</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BC%81%E4%B8%9A%E4%B8%AD%E5%93%AA%E4%B8%AA%E9%83%A8%E9%97%A8%E8%B4%9F%E8%B4%A3%E6%9E%84%E5%BB%BA%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">ä¼ä¸šä¸­å“ªä¸ªéƒ¨é—¨è´Ÿè´£æ„å»ºé•œåƒ</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#docker%E7%9A%84%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">dockerçš„å®‰å…¨é—®é¢˜</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">æ€§èƒ½é—®é¢˜</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Theory\"><span class=\"toc-text\">Theory</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%8D%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%BB%84%E9%87%91%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F\"><span class=\"toc-text\">åæ¨¡å¼ä¹‹é»„é‡‘åŸºç¡€é•œåƒ</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F-Distroless\"><span class=\"toc-text\">åŸºç¡€é•œåƒ-Distroless</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#example\"><span class=\"toc-text\">example</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%85%B3%E4%BA%8E%E7%BD%91%E7%BB%9C\"><span class=\"toc-text\">å…³äºç½‘ç»œ</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95\"><span class=\"toc-text\">å…³äºè°ƒè¯•</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Tools-%E6%9E%84%E5%BB%BA%E5%AE%B9%E5%99%A8%E7%9A%84%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">Tools-æ„å»ºå®¹å™¨çš„å·¥å…·</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#BuildKit\"><span class=\"toc-text\">BuildKit</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Cloud-Native-Buildpacks%EF%BC%88CNB%EF%BC%89\"><span class=\"toc-text\">Cloud Native Buildpacksï¼ˆCNBï¼‰</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#kaniko\"><span class=\"toc-text\">kaniko</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Bazel\"><span class=\"toc-text\">Bazel</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#img\"><span class=\"toc-text\">img</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#jib\"><span class=\"toc-text\">jib</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#References\"><span class=\"toc-text\">References</span></a></li></ol></li></ol>","author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ä¸€ä½æ­£åœ¨é‡å¡‘çŸ¥è¯†çš„æŠ€æœ¯äºº","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"å®¹å™¨é•œåƒå®‰å…¨å·¥å…·-Veinmind-tools","uid":"3675872e04aa6948518b5c79b3c5c1a2","slug":"veinmind-tools","date":"2022-09-13T08:44:00.000Z","updated":"2022-10-27T02:23:49.299Z","comments":true,"path":"api/articles/veinmind-tools.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159415/4k-beautiful-sunrise-reflection-wallpapers-159415-2155234-3113697.png","text":" å·¥å…·çš„é“ä¸æœ¯ï¼šé“ï¼Œæ˜¯æŒ‡è¿™ä¸ªå·¥å…·å†…åœ¨çš„å“²å­¦ï¼Œå¦‚æœä½ è§‰å¾—å“²å­¦è¿™ä¸ªè¯å¤ªå¤§äº†ï¼Œä¹Ÿå¯ä»¥å«å®ƒé€»è¾‘ã€‚ä¸€ä¸ªå·¥å…·çš„ä¼˜é›…ä¹‹å¤„å°±ä½“ç°åœ¨ã€Œé“ã€ä¸Šï¼Œã€Œé“ã€è™½ç„¶è²Œä¼¼è™šæ— ç¼¥ç¼ˆï¼Œå®ƒå´æ˜¯æœ€å®¹æ˜“åŒºåˆ†åŒç±»å‹å·¥å…·ä¹‹é—´ä¸åŒä¹‹å¤„çš„ä¸œè¥¿ã€‚æœ¯ï¼Œå°±æ˜¯æŠ€æœ¯å±‚é¢ï¼Œè¿™ä¸ªå·¥å…·æ€ä¹ˆæ“ä½œï¼Œæ€ä¹ˆç”¨èµ·æ¥ã€‚ veinmind-tools0x01...","link":"","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[{"name":"Cloud-Native-Security","slug":"Cloud-Native-Security","count":12,"path":"api/categories/Cloud-Native-Security.json"}],"tags":[{"name":"CI/CD","slug":"CI-CD","count":4,"path":"api/tags/CI-CD.json"},{"name":"å®¹å™¨å®‰å…¨","slug":"å®¹å™¨å®‰å…¨","count":3,"path":"api/tags/å®¹å™¨å®‰å…¨.json"},{"name":"é•œåƒå®‰å…¨","slug":"é•œåƒå®‰å…¨","count":3,"path":"api/tags/é•œåƒå®‰å…¨.json"},{"name":"é•¿äº­ç§‘æŠ€","slug":"é•¿äº­ç§‘æŠ€","count":1,"path":"api/tags/é•¿äº­ç§‘æŠ€.json"}],"author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ä¸€ä½æ­£åœ¨é‡å¡‘çŸ¥è¯†çš„æŠ€æœ¯äºº","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"è½¯ä»¶æˆåˆ†åˆ†æå·¥å…·-syft","uid":"5d3847e382c5758f0e662a8985f6d419","slug":"syft","date":"2022-08-31T09:44:00.000Z","updated":"2022-10-26T09:05:01.983Z","comments":true,"path":"api/articles/syft.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159414/4k-backlit-dawn-wallpapers-159414-29480-2917846.png","text":"syft0x01ç®€ä»‹syftGitHub aboutï¼šCLI tool and library for generating a Software Bill of Materials from container images and filesystemså…¶ä»–ä¿¡æ¯ é¡¹ç›®ç”±anc...","link":"","photos":[],"count_time":{"symbolsCount":"5.8k","symbolsTime":"5 mins."},"categories":[{"name":"è½¯ä»¶ä¾›åº”é“¾å®‰å…¨","slug":"è½¯ä»¶ä¾›åº”é“¾å®‰å…¨","count":26,"path":"api/categories/è½¯ä»¶ä¾›åº”é“¾å®‰å…¨.json"}],"tags":[{"name":"SCA","slug":"SCA","count":15,"path":"api/tags/SCA.json"},{"name":"è½¯ä»¶ä¾›åº”é“¾å®‰å…¨","slug":"è½¯ä»¶ä¾›åº”é“¾å®‰å…¨","count":11,"path":"api/tags/è½¯ä»¶ä¾›åº”é“¾å®‰å…¨.json"},{"name":"é•œåƒä¾èµ–åˆ†æ","slug":"é•œåƒä¾èµ–åˆ†æ","count":1,"path":"api/tags/é•œåƒä¾èµ–åˆ†æ.json"},{"name":"docker-SBOM","slug":"docker-SBOM","count":1,"path":"api/tags/docker-SBOM.json"},{"name":"å®¹å™¨é•œåƒå®‰å…¨","slug":"å®¹å™¨é•œåƒå®‰å…¨","count":2,"path":"api/tags/å®¹å™¨é•œåƒå®‰å…¨.json"}],"author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ä¸€ä½æ­£åœ¨é‡å¡‘çŸ¥è¯†çš„æŠ€æœ¯äºº","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}