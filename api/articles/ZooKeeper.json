{"title":"åˆ†å¸ƒå¼ç³»ç»Ÿå­¦ä¹ -Zookeeper","uid":"618a44db788d8cdf326efbd9f5f8d4cf","slug":"ZooKeeper","date":"2022-02-15T00:57:00.000Z","updated":"2022-10-27T05:33:15.842Z","comments":true,"path":"api/articles/ZooKeeper.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159416/4k-beneath-the-clouds-wallpapers-159416-910411-8858546.png","content":"<p>Zookeeperåœ¨ [[CAP]]ä¸­é€‰æ‹©äº†Cå’ŒPï¼Œåœ¨Leaderæ•…éšœï¼Œé€‰ä¸¾æ–°çš„LeaderæœŸé—´ï¼Œzookeeperé›†ç¾¤ä¸å¯¹å¤–æä¾›æœåŠ¡ã€‚</p>\n<h2 id=\"ç‰¹ç‚¹\"><a href=\"#ç‰¹ç‚¹\" class=\"headerlink\" title=\"ç‰¹ç‚¹\"></a>ç‰¹ç‚¹</h2><ul>\n<li>åˆ†å¸ƒå¼åè°ƒ</li>\n<li>å¯é æ€§<ul>\n<li>æœ‰é›†ç¾¤ä¸å¯ç”¨çš„æ—¶å€™ï¼Œå³leaderä¸‹çº¿ï¼Œfolloweråœ¨é€‰ä¸¾çš„æœŸé—´ï¼Œé›†ç¾¤ä¸å¯ç”¨ã€‚<br> ä¸€è‡´æ€§</li>\n<li>æœ€ç»ˆä¸€è‡´æ€§</li>\n<li>ä¸€è‡´æ€§åè®® [[ZAB]]</li>\n</ul>\n</li>\n<li>æ—¶åº</li>\n</ul>\n<h2 id=\"æ‰©å±•\"><a href=\"#æ‰©å±•\" class=\"headerlink\" title=\"æ‰©å±•\"></a>æ‰©å±•</h2><h3 id=\"æ¶æ„\"><a href=\"#æ¶æ„\" class=\"headerlink\" title=\"æ¶æ„\"></a>æ¶æ„</h3><h4 id=\"è§’è‰²\"><a href=\"#è§’è‰²\" class=\"headerlink\" title=\"è§’è‰²\"></a>è§’è‰²</h4><ul>\n<li>leader<ul>\n<li>æ”¯æŒå†™ï¼Œæ”¯æŒè¯»</li>\n</ul>\n</li>\n<li>follower<ul>\n<li>æ”¯æŒè¯»ï¼Œå‚ä¸é€‰ä¸¾</li>\n<li>10ä¸ªäººé€‰ä¸¾å’Œ10äº¿äººé€‰ä¸¾ï¼Œè‡ªç„¶æ˜¯10äººé€‰ä¸¾çš„é€Ÿåº¦å¿«ï¼Œæ‰€ä»¥followerçš„æ•°é‡ä¿è¯é€‰ä¸¾å³å¯ï¼Œæ— éœ€è¿‡å¤šçš„æ•°é‡ã€‚</li>\n</ul>\n</li>\n<li>observer<br>  æ”¯æŒè¯»ï¼Œæ‰©å±•æŸ¥è¯¢çš„æ€§èƒ½ã€‚</li>\n</ul>\n<h4 id=\"è§’è‰²åœ¨zké…ç½®æ–‡ä»¶ä¸­çš„ä½“ç°-zoo-cfg\"><a href=\"#è§’è‰²åœ¨zké…ç½®æ–‡ä»¶ä¸­çš„ä½“ç°-zoo-cfg\" class=\"headerlink\" title=\"è§’è‰²åœ¨zké…ç½®æ–‡ä»¶ä¸­çš„ä½“ç° zoo.cfg\"></a>è§’è‰²åœ¨zké…ç½®æ–‡ä»¶ä¸­çš„ä½“ç° zoo.cfg</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">server.1&#x3D;node-001:2888:3888\nserver.2&#x3D;node-001:2888:3888\nerver.3&#x3D;node-001:2888:3888\nserver.4&#x3D;node-001:2888:3888:observer\nserver.5&#x3D;node-001:2888:3888:observer\nserver.6&#x3D;node-001:2888:3888:observer\nserver.7&#x3D;node-001:2888:3888:observer</code></pre>\n<h2 id=\"å¿«é€Ÿ\"><a href=\"#å¿«é€Ÿ\" class=\"headerlink\" title=\"å¿«é€Ÿ\"></a>å¿«é€Ÿ</h2><ul>\n<li>æ­£å¸¸æƒ…å†µä¸‹çš„è¯»å†™é€Ÿåº¦å¿«</li>\n<li>å½“leaderæ‰çº¿ï¼Œé€‰ä¸¾æ–°çš„leaderé€Ÿåº¦å¿«ï¼Œé›†ç¾¤æ¢å¤é€Ÿåº¦å¿«ã€‚</li>\n</ul>\n<h2 id=\"æ•°æ®å­˜å‚¨\"><a href=\"#æ•°æ®å­˜å‚¨\" class=\"headerlink\" title=\"æ•°æ®å­˜å‚¨\"></a>æ•°æ®å­˜å‚¨</h2><ul>\n<li>åœ¨å†…å­˜ä¸­å­˜æ•°æ®çš„çŠ¶æ€ã€‚çŠ¶æ€æ•°æ®å¿…å®šæ˜¯åœ¨æ—¥å¿—æ•°æ®å†™å…¥æˆåŠŸä¹‹åï¼Œæ‰æœ‰å¯èƒ½ç”Ÿæˆã€‚</li>\n<li>åœ¨ç£ç›˜ä¸­å†™æ—¥å¿—ã€‚å½“ç„¶ï¼Œæ—¥å¿—ä¹Ÿæ˜¯å…ˆå†™åˆ°å†…å­˜ï¼Œå†åˆ°ç£ç›˜ï¼Œå†…å­˜ä¸­çš„çŠ¶æ€æ•°æ®å’Œæ—¥å¿—æ•°æ®æ˜¯ä¸¤ç±»æ•°æ®ã€‚</li>\n</ul>\n<h2 id=\"Server\"><a href=\"#Server\" class=\"headerlink\" title=\"Server\"></a>Server</h2><h2 id=\"Client\"><a href=\"#Client\" class=\"headerlink\" title=\"Client\"></a>Client</h2><ul>\n<li>watch<ul>\n<li>new zk æ—¶ä¼ å…¥çš„watch<ul>\n<li>æ˜¯sessionçº§åˆ«ï¼Œè·Ÿpathï¼Œnodeæ²¡æœ‰å…³ç³»ã€‚</li>\n<li>sessionçŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œä¼šè¢«é‡å¤è§¦å‘ã€‚</li>\n<li>å½“ä¸è¿æ¥çš„æœåŠ¡å™¨ä¸­æ–­è¿æ¥ï¼Œè‡ªåŠ¨é‡è¿åï¼ŒsessionIdä¸å‘ç”Ÿå˜åŒ–ã€‚</li>\n</ul>\n</li>\n<li>æ™®é€šçš„watch<ul>\n<li>ä¸€æ¬¡æ€§ï¼Œä¸ä¼šé‡å¤è¢«è§¦å‘ï¼Œè¦æƒ³é‡å¤è§¦å‘ï¼Œæ¯æ¬¡è§¦å‘åï¼Œè¦å†watchã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"å“åº”å¼ç¼–ç¨‹\"><a href=\"#å“åº”å¼ç¼–ç¨‹\" class=\"headerlink\" title=\"å“åº”å¼ç¼–ç¨‹\"></a>å“åº”å¼ç¼–ç¨‹</h2><p><strong>ä¸å¸¸è§„ç¼–ç¨‹çš„ä¸»è¦å·®å¼‚ï¼šå·¥ç¨‹å¸ˆç”±ä¸šåŠ¡æ‰§è¡Œé€»è¾‘é¡ºåºçš„è§„åˆ’è€…ï¼Œç¼–ç¨‹ä¸šåŠ¡å†…å®¹çš„è§„åˆ’è€…ï¼Œæ‰§è¡Œé¡ºåºäº¤ç»™è®¡ç®—æœºæ¥è°ƒåº¦ã€‚</strong></p>\n<h2 id=\"åº”ç”¨åœºæ™¯\"><a href=\"#åº”ç”¨åœºæ™¯\" class=\"headerlink\" title=\"åº”ç”¨åœºæ™¯\"></a>åº”ç”¨åœºæ™¯</h2><ul>\n<li>åˆ†å¸ƒå¼é…ç½®ï¼ŒæœåŠ¡æ³¨å†Œå‘ç°</li>\n<li>åˆ†å¸ƒå¼é”</li>\n<li>åˆ†å¸ƒå¼åè°ƒ</li>\n</ul>\n","text":"Zookeeperåœ¨ [[CAP]]ä¸­é€‰æ‹©äº†Cå’ŒPï¼Œåœ¨Leaderæ•…éšœï¼Œé€‰ä¸¾æ–°çš„LeaderæœŸé—´ï¼Œzookeeperé›†ç¾¤ä¸å¯¹å¤–æä¾›æœåŠ¡ã€‚ ç‰¹ç‚¹ åˆ†å¸ƒå¼åè°ƒ å¯é æ€§ æœ‰é›†ç¾¤ä¸å¯ç”¨çš„æ—¶å€™ï¼Œå³leaderä¸‹çº¿ï¼Œfolloweråœ¨é€‰ä¸¾çš„æœŸé—´ï¼Œé›†ç¾¤ä¸å¯ç”¨ã€‚ ä¸€è‡´æ€§ æœ€ç»ˆä¸€è‡´æ€§ ä¸€è‡´æ€§åè®® ...","link":"","photos":[],"count_time":{"symbolsCount":962,"symbolsTime":"1 mins."},"categories":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","count":6,"path":"api/categories/åˆ†å¸ƒå¼.json"}],"tags":[{"name":"åˆ†å¸ƒå¼ç³»ç»Ÿ","slug":"åˆ†å¸ƒå¼ç³»ç»Ÿ","count":3,"path":"api/tags/åˆ†å¸ƒå¼ç³»ç»Ÿ.json"},{"name":"åˆ†å¸ƒå¼ç†è®º","slug":"åˆ†å¸ƒå¼ç†è®º","count":1,"path":"api/tags/åˆ†å¸ƒå¼ç†è®º.json"},{"name":"CAP","slug":"CAP","count":1,"path":"api/tags/CAP.json"},{"name":"Zookeeper","slug":"Zookeeper","count":1,"path":"api/tags/Zookeeper.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%89%B9%E7%82%B9\"><span class=\"toc-text\">ç‰¹ç‚¹</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%A9%E5%B1%95\"><span class=\"toc-text\">æ‰©å±•</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9E%B6%E6%9E%84\"><span class=\"toc-text\">æ¶æ„</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A7%92%E8%89%B2\"><span class=\"toc-text\">è§’è‰²</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A7%92%E8%89%B2%E5%9C%A8zk%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E4%BD%93%E7%8E%B0-zoo-cfg\"><span class=\"toc-text\">è§’è‰²åœ¨zké…ç½®æ–‡ä»¶ä¸­çš„ä½“ç° zoo.cfg</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BF%AB%E9%80%9F\"><span class=\"toc-text\">å¿«é€Ÿ</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8\"><span class=\"toc-text\">æ•°æ®å­˜å‚¨</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Server\"><span class=\"toc-text\">Server</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Client\"><span class=\"toc-text\">Client</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B\"><span class=\"toc-text\">å“åº”å¼ç¼–ç¨‹</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">åº”ç”¨åœºæ™¯</span></a></li></ol>","author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ä¸€ä½æ­£åœ¨é‡å¡‘çŸ¥è¯†çš„æŠ€æœ¯äºº","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"å®¹å™¨å®‰å…¨å¹³å°-å°ä½‘ç§‘æŠ€","uid":"af03dd5b5c07726870f53848ba50413b","slug":"å®¹å™¨å®‰å…¨å¹³å°-å°ä½‘ç§‘æŠ€","date":"2022-03-04T09:35:44.000Z","updated":"2022-10-27T02:15:54.248Z","comments":true,"path":"api/articles/å®¹å™¨å®‰å…¨å¹³å°-å°ä½‘ç§‘æŠ€.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159413/4k-aurora-wallpapers-159413-3333-6138359.png","text":"install ä¿®æ”¹k8s-dosec-web.yamlå’Œk8s-dosec-configMap.yamlenv: - name:Web_API_ADDR value: &#39;http:&#x2F;&#x2F;masterip:30089&#39; #configmap #æ³¨...","link":"","photos":[],"count_time":{"symbolsCount":571,"symbolsTime":"1 mins."},"categories":[{"name":"Cloud-Native-Security","slug":"Cloud-Native-Security","count":12,"path":"api/categories/Cloud-Native-Security.json"}],"tags":[{"name":"äº‘åŸç”Ÿå®‰å…¨","slug":"äº‘åŸç”Ÿå®‰å…¨","count":6,"path":"api/tags/äº‘åŸç”Ÿå®‰å…¨.json"},{"name":"å®¹å™¨å®‰å…¨å¹³å°","slug":"å®¹å™¨å®‰å…¨å¹³å°","count":5,"path":"api/tags/å®¹å™¨å®‰å…¨å¹³å°.json"},{"name":"äº§å“é€‰å‹","slug":"äº§å“é€‰å‹","count":6,"path":"api/tags/äº§å“é€‰å‹.json"},{"name":"å°ä½‘ç§‘æŠ€","slug":"å°ä½‘ç§‘æŠ€","count":1,"path":"api/tags/å°ä½‘ç§‘æŠ€.json"}],"author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ä¸€ä½æ­£åœ¨é‡å¡‘çŸ¥è¯†çš„æŠ€æœ¯äºº","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"DevSecOpså·¥å…·é“¾","uid":"1a872c8e58dbc5f12955fd570dcb5da9","slug":"Devsecopså·¥å…·é“¾","date":"2022-02-08T02:58:04.000Z","updated":"2022-10-27T02:45:24.231Z","comments":true,"path":"api/articles/Devsecopså·¥å…·é“¾.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159416/4k-beneath-the-clouds-wallpapers-159416-909668-1806574.png","text":"DevSecOpså®è·µGartneråœ¨2019å¹´çš„ä¸€ç¯‡æ–‡ç« ä¸­ç»™å‡ºäº†ä¸€ä¸ªç»è¿‡è°ƒç ”å’Œåˆ†æçš„æ¯”è¾ƒå…¨é¢çš„å®è·µæ¸…å•ã€‚å¦‚å›¾å®ƒç”±ä¸€äº›åˆ—å…³é”®è·¯å¾„å’ŒæŒç»­æ­¥éª¤ä¸­çš„æªæ–½å’Œæœºåˆ¶ç»„æˆï¼Œå‘¨è€Œå¤å§‹ç¬¬è¿è½¬ã€‚å®ƒçš„å…³æ³¨ç‚¹ä¸»è¦æ˜¯åœ¨ç ”å‘è¿‡ç¨‹ä¸­çš„å®‰å…¨æ¼æ´åŠå…¶å¼•å‘çš„å„ç±»é£é™©çš„ç®¡æ§ã€‚ å¿˜è®°äº†ğŸ˜„ æŸè¯åˆ¸å…¬å¸DevSecOpsè½...","link":"","photos":[],"count_time":{"symbolsCount":"8.3k","symbolsTime":"8 mins."},"categories":[{"name":"DevSecOps","slug":"DevSecOps","count":3,"path":"api/categories/DevSecOps.json"}],"tags":[{"name":"DevSecOpså·¥å…·é“¾","slug":"DevSecOpså·¥å…·é“¾","count":1,"path":"api/tags/DevSecOpså·¥å…·é“¾.json"},{"name":"CI/CD","slug":"CI-CD","count":4,"path":"api/tags/CI-CD.json"},{"name":"å·¥å…·é“¾é£é™©","slug":"å·¥å…·é“¾é£é™©","count":1,"path":"api/tags/å·¥å…·é“¾é£é™©.json"}],"author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"ä¸€ä½æ­£åœ¨é‡å¡‘çŸ¥è¯†çš„æŠ€æœ¯äºº","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}