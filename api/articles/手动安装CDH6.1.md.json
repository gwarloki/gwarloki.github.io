{"title":"手动安装CDH6.1","uid":"6b3a3497e1eeebd4a65d0ba4c26e41db","slug":"手动安装CDH6.1.md","date":"2020-10-20T09:53:00.000Z","updated":"2022-10-27T01:28:20.806Z","comments":true,"path":"api/articles/手动安装CDH6.1.md.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159445/a-tunnel-8k-secret-passage-wallpapers-159445-3964-1849347.png","content":"<h1 id=\"手工安装\"><a href=\"#手工安装\" class=\"headerlink\" title=\"手工安装\"></a>手工安装</h1><h2 id=\"仓库\"><a href=\"#仓库\" class=\"headerlink\" title=\"仓库\"></a>仓库</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\"># 官方Parcels仓库： \n# https:&#x2F;&#x2F;archive.cloudera.com&#x2F;cdh6&#x2F;6.1.0&#x2F;parcels&#x2F;\n#\n# Cloudera-Manger仓库：\n# https:&#x2F;&#x2F;archive.cloudera.com&#x2F;cm6&#x2F;6.1.0&#x2F;redhat7&#x2F;yum&#x2F;\n#\n# 内网仓库：\n# http:&#x2F;&#x2F;172.24.26.90:57777&#x2F;cdh&#x2F;6.1.0&#x2F;\n# http:&#x2F;&#x2F;172.24.26.90:57777&#x2F;cloudera-manager&#x2F;6.1.0&#x2F;\n\n# 需要注意，无论使用内网和官方仓库注册都要使用执行，rpm命令注册仓库\n\nrpm --import https:&#x2F;&#x2F;archive.cloudera.com&#x2F;cm6&#x2F;6.1.0&#x2F;redhat7&#x2F;yum&#x2F;RPM-GPG-KEY-cloudera\n\nrpm --import https:&#x2F;&#x2F;archive.cloudera.com&#x2F;cm6&#x2F;6.1.0&#x2F;redhat7&#x2F;yum&#x2F;RPM-GPG-KEY-cloudera\n</code></pre>\n\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>安装三节点集群。</p>\n<table>\n<thead>\n<tr>\n<th>主机名</th>\n<th>Role</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>rjbdnode1</td>\n<td>cm、mariadb、agent</td>\n<td>172.24.26.102</td>\n</tr>\n<tr>\n<td>rjbdnode2</td>\n<td>agent</td>\n<td>172.24.26.103</td>\n</tr>\n<tr>\n<td>rjbdnode3</td>\n<td>agent</td>\n<td>172.24.26.104</td>\n</tr>\n</tbody></table>\n<h3 id=\"前期工作-所有节点\"><a href=\"#前期工作-所有节点\" class=\"headerlink\" title=\"前期工作(所有节点)\"></a>前期工作(所有节点)</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 关防火墙\nsetenforce 0\nsystemctl stop firewalld\nsystemctl disable firewalld\n\n# 装JDK\n</code></pre>\n<h3 id=\"安装MariaDB\"><a href=\"#安装MariaDB\" class=\"headerlink\" title=\"安装MariaDB\"></a>安装MariaDB</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum -y install mariadb-server\nsystemctl enable mariadb\nsystemctl start mariadb\n\n# 执行 &#x2F;usr&#x2F;bin&#x2F;mysql_secure_installation 初始化化数据库\n\n# 执行以下sql允许root用户远程访问\n# GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;rjbigdata&#39; WITH GRANT OPTION;\n\n# 执行以下SQL创建DB\n# CREATE DATABASE scm DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;</code></pre>\n\n<p>注意：Cloudera 给出了一个MariaDB的官方推荐配置，请<a href=\"https://www.cloudera.com/documentation/enterprise/6/6.1/topics/install_cm_mariadb.html#install_cm_mariadb_config\">参考</a>。</p>\n<h3 id=\"安装Cloudera应用\"><a href=\"#安装Cloudera应用\" class=\"headerlink\" title=\"安装Cloudera应用\"></a>安装Cloudera应用</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 所有节点安装mysql的JDBC驱动，执行以下代码\n\nwget https:&#x2F;&#x2F;dev.mysql.com&#x2F;get&#x2F;Downloads&#x2F;Connector-J&#x2F;mysql-connector-java-5.1.47.tar.gz\ntar zxvf mysql-connector-java-5.1.47.tar.gz\nmkdir -p &#x2F;usr&#x2F;share&#x2F;java&#x2F;\ncd mysql-connector-java-5.1.47\ncp mysql-connector-java-5.1.47-bin.jar &#x2F;usr&#x2F;share&#x2F;java&#x2F;mysql-connector-java.jar\n\n# 安装rjbdnode1 执行\nyum install -y  cloudera-manager-server\n# 在rjbdnode1 同步数据库配置\n&#x2F;opt&#x2F;cloudera&#x2F;cm&#x2F;schema&#x2F;scm_prepare_database.sh mysql -h rjbdnode1 --scm-host rjbdnode1 scm root rjbigdata\n# 启动CM\nsystemctl enable cloudera-scm-server\nsystemctl start cloudera-scm-server\n\n# 所有节点执行以下操作\nyum install -y  cloudera-manager-agent\n# 修改 &#x2F;etc&#x2F;cloudera-scm-agent&#x2F;config.ini 中的 server_host 为 rjbdnode1\n\n# 启动AGENT\nsystemctl enable cloudera-scm-agent\nsystemctl start cloudera-scm-agent</code></pre>\n\n<h3 id=\"创建集群\"><a href=\"#创建集群\" class=\"headerlink\" title=\"创建集群\"></a>创建集群</h3><p>登录CM创建集群，略。</p>\n","text":"手工安装仓库# 官方Parcels仓库： # https:&#x2F;&#x2F;archive.cloudera.com&#x2F;cdh6&#x2F;6.1.0&#x2F;parcels&#x2F; # # Cloudera-Manger仓库： # https:&#x2F;&...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"大数据","slug":"大数据","count":3,"path":"api/categories/大数据.json"}],"tags":[{"name":"Hadoop","slug":"Hadoop","count":2,"path":"api/tags/Hadoop.json"},{"name":"Cloudera","slug":"Cloudera","count":2,"path":"api/tags/Cloudera.json"},{"name":"大数据","slug":"大数据","count":3,"path":"api/tags/大数据.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%89%8B%E5%B7%A5%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">手工安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%93%E5%BA%93\"><span class=\"toc-text\">仓库</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%89%8D%E6%9C%9F%E5%B7%A5%E4%BD%9C-%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9\"><span class=\"toc-text\">前期工作(所有节点)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85MariaDB\"><span class=\"toc-text\">安装MariaDB</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85Cloudera%E5%BA%94%E7%94%A8\"><span class=\"toc-text\">安装Cloudera应用</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E9%9B%86%E7%BE%A4\"><span class=\"toc-text\">创建集群</span></a></li></ol></li></ol></li></ol>","author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"一位正在重塑知识的技术人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"CDH构建大数据平台-使用自建的镜像地址安装Cloudera Manager","uid":"1a2332bedd5393f913279007dced6f6f","slug":"CDH构建大数据平台-使用自建的镜像地址安装Cloudera Manager","date":"2020-10-23T04:53:03.000Z","updated":"2022-10-27T01:30:34.940Z","comments":true,"path":"api/articles/CDH构建大数据平台-使用自建的镜像地址安装Cloudera Manager.json","keywords":null,"cover":"https://gtwallpaper.org/sites/default/files/wallpaper/159445/a-tunnel-8k-secret-passage-wallpapers-159445-3971-9863971.png","text":"CDH构建大数据平台-使用自建的镜像地址安装Cloudera Manager 一、简介目前Hadoop发行版非常多，有华为发行版、Intel发行版、Cloudera发行版(CDH)、Hortonworks版本（HDP）等，所有这些发行版均是基于Apache Hadoop衍生出来的...","link":"","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[{"name":"大数据","slug":"大数据","count":3,"path":"api/categories/大数据.json"}],"tags":[{"name":"Hadoop","slug":"Hadoop","count":2,"path":"api/tags/Hadoop.json"},{"name":"Cloudera","slug":"Cloudera","count":2,"path":"api/tags/Cloudera.json"},{"name":"大数据","slug":"大数据","count":3,"path":"api/tags/大数据.json"}],"author":{"name":"Moses","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"一位正在重塑知识的技术人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}